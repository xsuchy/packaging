--- igal2-2.0/igal2.1.fhs~	2011-07-12 16:47:42.376772359 +0200
+++ igal2-2.0/igal2.1	2011-07-12 16:47:42.380772420 +0200
@@ -28,7 +28,7 @@ also checks for the existence of a
 .I "$HOME/.igal2"
 directory where users can store their own templates, overriding
 the site-wide 
-.IR "/usr/lib/igal2" .
+.IR "/usr/share/igal2" .
 
 .BR igal2 " needs " Perl
 to run and it also relies on a few other programs that come standard
@@ -261,23 +261,23 @@ Note: igal2 will not work recursively, i
 found directories.
 
 .SH FILES
-.I /usr/lib/igal2/indextemplate2.html
+.I /usr/share/igal2/indextemplate2.html
 .RS
 The default index template file.
 .RE
-.I /usr/lib/igal2/slidetemplate2.html
+.I /usr/share/igal2/slidetemplate2.html
 .RS
 The default file used to generate slides.
 .RE
-.I /usr/lib/igal2/igal2.css
+.I /usr/share/igal2/igal2.css
 .RS
 The default style sheet template.
 .RE
-.I /usr/lib/igal2/tile.png
+.I /usr/share/igal2/tile.png
 .RS
 The tiled image used for the "film reel" effect.
 .RE
-.I /usr/lib/igal2/directoryline2.html
+.I /usr/share/igal2/directoryline2.html
 .RS
 The default file used to generate directory links in index.html. If 
 this file is changed, the index.html has to be regenerated by running
@@ -294,7 +294,7 @@ also checks for the existence of a
 .I "$HOME/.igal2"
 directory where users can store their own templates, overriding
 the site-wide 
-.IR "/usr/lib/igal2" .
+.IR "/usr/share/igal2" .
 .SH EXAMPLES
 Run
 .B igal2
--- igal2-2.0/igal2.fhs~	2011-07-12 16:47:42.376772359 +0200
+++ igal2-2.0/igal2	2011-07-12 16:49:07.825091612 +0200
@@ -5,8 +5,8 @@ eval 'exec perl -wS $0 ${1+"$@"}'
 ############################################################################
 # Please change this accordingly if you change the DESTDIR in the tarball 
 # distribution Makefile or the --prefix of the RPM installation
-$LIBDIR = "/usr/lib/igal2";
-# for example if you make DESTDIR=/usr then $LIBDIR="/usr/lib/igal2"
+$IGALDIR = "/usr/share/igal2";
+# for example if you make DESTDIR=/usr then $IGALDIR="/usr/share/igal2"
 ############################################################################
 #
 # A short note from Eric Pop the developer of the "old" igal version:
@@ -199,7 +199,7 @@ $opt_d =~ s/\/$//;
 
 # let users store their templates in a $HOME/.igal directory, if it exists,
 # instead of the site-wide /usr/lib/igal (from line 8 up top)
-$LIBDIR = $userigaldir if ((-r $userigaldir) && (-d $userigaldir));
+$IGALDIR = $userigaldir if ((-r $userigaldir) && (-d $userigaldir));
 
 # load up image files from $opt_d into array @imgfiles
 opendir DIR, $opt_d or die "Can't open directory $opt_d\n";
@@ -470,10 +470,10 @@ if ( $opt_m ) {
 if ($opt_s) {
 	print "Linking thumbnails directly to image files...  Making no html slides.\n";
 	if (! -e "$opt_d/$opt_dest$csstemplate") {
-		print "No CSS template file ... getting $LIBDIR/$csstemplate\n";
-		die "$LIBDIR cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r $LIBDIR);
-		die "$LIBDIR/$csstemplate cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r "$LIBDIR/$csstemplate");
-		system("cp -f $LIBDIR/$csstemplate \"$opt_d/$opt_dest\"");
+		print "No CSS template file ... getting $IGALDIR/$csstemplate\n";
+		die "$IGALDIR cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r $IGALDIR);
+		die "$IGALDIR/$csstemplate cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r "$IGALDIR/$csstemplate");
+		system("cp -f $IGALDIR/$csstemplate \"$opt_d/$opt_dest\"");
         }
 } else {
 	$nfiles = @imgfiles;      # total number of files (same as # of captions)
@@ -491,18 +491,18 @@ if ($opt_s) {
 	}
 	system("rm -f \"$opt_d/$opt_dest*.html\"");
 	if (! -e "$opt_d/$opt_dest$csstemplate") {
-		print "No CSS template file ... getting $LIBDIR/$csstemplate\n";
-		die "$LIBDIR cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r $LIBDIR);
-		die "$LIBDIR/$csstemplate cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r "$LIBDIR/$csstemplate");
-		system("cp -f $LIBDIR/$csstemplate \"$opt_d/$opt_dest\"");
+		print "No CSS template file ... getting $IGALDIR/$csstemplate\n";
+		die "$IGALDIR cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r $IGALDIR);
+		die "$IGALDIR/$csstemplate cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r "$IGALDIR/$csstemplate");
+		system("cp -f $IGALDIR/$csstemplate \"$opt_d/$opt_dest\"");
 	} else {
 		print "Found CSS template file $opt_dest$csstemplate ... using it.\n";
 	}
 	if (! -e "$opt_d/$opt_dest.$slidetemplate") {
-		print "No $opt_dest.$slidetemplate file ... getting a copy from $LIBDIR/\n";
-		die "$LIBDIR cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r $LIBDIR);
-		die "$LIBDIR/$slidetemplate cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r "$LIBDIR/$slidetemplate");
-		system("cp -f $LIBDIR/$slidetemplate \"$opt_d/$opt_dest.$slidetemplate\"");
+		print "No $opt_dest.$slidetemplate file ... getting a copy from $IGALDIR/\n";
+		die "$IGALDIR cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r $IGALDIR);
+		die "$IGALDIR/$slidetemplate cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r "$IGALDIR/$slidetemplate");
+		system("cp -f $IGALDIR/$slidetemplate \"$opt_d/$opt_dest.$slidetemplate\"");
 	} else {
 		print "Found $opt_dest.$slidetemplate file ... using it.\n";
 	}
@@ -596,10 +596,10 @@ if ($opt_s) {
 if ($opt_r) {
 	print "Got option -r... omitting film reel effect.\n";
 } elsif (! -e "$opt_d/$opt_dest.$itile") {
-	print "No $opt_dest.$itile file... getting a copy from $LIBDIR/\n";
-	die "$LIBDIR cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r $LIBDIR);
-	die "$LIBDIR/$itile cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r "$LIBDIR/$itile");
-	system("cp -f $LIBDIR/$itile \"$opt_d/$opt_dest.$itile\"");
+	print "No $opt_dest.$itile file... getting a copy from $IGALDIR/\n";
+	die "$IGALDIR cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r $IGALDIR);
+	die "$IGALDIR/$itile cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r "$IGALDIR/$itile");
+	system("cp -f $IGALDIR/$itile \"$opt_d/$opt_dest.$itile\"");
 } else {
 	print "Found $opt_dest.$itile file ... using it.\n";
 }
@@ -611,10 +611,10 @@ if (($HAVEIM) and (! $opt_r)) {
 }
 
 if (! -e "$opt_d/$opt_dest.$indextemplate") {
-	print "No $opt_dest.$indextemplate file... getting a copy from $LIBDIR/\n";
-	die "$LIBDIR cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r $LIBDIR);
-	die "$LIBDIR/$indextemplate cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r "$LIBDIR/$indextemplate");
-	system("cp -f $LIBDIR/$indextemplate \"$opt_d/$opt_dest.$indextemplate\"");
+	print "No $opt_dest.$indextemplate file... getting a copy from $IGALDIR/\n";
+	die "$IGALDIR cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r $IGALDIR);
+	die "$IGALDIR/$indextemplate cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r "$IGALDIR/$indextemplate");
+	system("cp -f $IGALDIR/$indextemplate \"$opt_d/$opt_dest.$indextemplate\"");
 } else {
 	print "Found $opt_dest.$indextemplate ... using it.\n";
 }
@@ -628,10 +628,10 @@ $indexfile =~ s/<!--#IGAL-CSS#-->/$opt_d
 if ($opt_AddSubdir && defined(@directories)) {
 
 	if (! -e "$opt_d/$opt_dest.$directorylinefile") {
-		print "No $opt_dest.$directorylinefile file ... getting a copy from $LIBDIR/\n";
-		die "$LIBDIR cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r $LIBDIR);
-		die "$LIBDIR/$directorylinefile cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r "$LIBDIR/$directorylinefile");
-		system("cp -f $LIBDIR/$directorylinefile \"$opt_d/$opt_dest.$directorylinefile\"");
+		print "No $opt_dest.$directorylinefile file ... getting a copy from $IGALDIR/\n";
+		die "$IGALDIR cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r $IGALDIR);
+		die "$IGALDIR/$directorylinefile cannot be read or does not exist.\nPlease install igal properly.\n" unless (-r "$IGALDIR/$directorylinefile");
+		system("cp -f $IGALDIR/$directorylinefile \"$opt_d/$opt_dest.$directorylinefile\"");
 	} else {
 		print "Found $opt_dest.$directorylinefile file ... using it.\n";
 	}
--- igal2-2.0/Makefile.fhs~	2011-07-12 16:47:42.377772375 +0200
+++ igal2-2.0/Makefile	2011-07-12 16:47:42.381772435 +0200
@@ -1,32 +1,29 @@
-############################################################################
-# if you change this, please also modify the value at the top of igal code
-DESTDIR=/usr
-############################################################################
+PREFIX=/usr
+BINDIR=$(PREFIX)/bin
+DATADIR=$(PREFIX)/share
+MANDIR=$(DATADIR)/man/man1
+IGALDIR=$(DATADIR)/igal2
 
-BINDIR=$(DESTDIR)/bin
-MANDIR=$(DESTDIR)/man/man1
-LIBDIR=$(DESTDIR)/lib/igal2
-
-OLDLIBDIR=$(DESTDIR)/lib/igal
+OLDLIBDIR=$(PREFIX)/lib/igal
 
 clean::
-	rm -rf $(LIBDIR)
-	rm -f $(BINDIR)/igal2
-	rm -f $(BINDIR)/igal
-	rm -f $(MANDIR)/igal2.1
-	rm -f $(BINDIR)/igal2.sh	
+	rm -rf $(DESTDIR)$(IGALDIR)
+	rm -f $(DESTDIR)$(BINDIR)/igal2
+	rm -f $(DESTDIR)$(BINDIR)/igal
+	rm -f $(DESTDIR)$(MANDIR)/igal2.1
+	rm -f $(DESTDIR)$(BINDIR)/igal2.sh	
 
 old-clean::
-	rm -rf $(OLDLIBDIR)
-	rm -f $(BINDIR)/igal
-	rm -f $(MANDIR)/igal.1
+	rm -rf $(DESTDIR)$(OLDLIBDIR)
+	rm -f $(DESTDIR)$(BINDIR)/igal
+	rm -f $(DESTDIR)$(MANDIR)/igal.1
 
 install:: igal2
-	install -d $(BINDIR)
-	install -m 0755 igal2 $(BINDIR)
-	ln -si $(BINDIR)/igal2 $(BINDIR)/igal
-	install -m 0755 utilities/igal2.sh $(BINDIR)
-	install -d $(MANDIR)
-	install -m 0644 igal2.1 $(MANDIR)
-	install -d $(LIBDIR)
-	install -m 0644 README ChangeLog COPYING indextemplate2.html slidetemplate2.html tile.png igal2.css directoryline2.html $(LIBDIR)
+	install -d $(DESTDIR)$(BINDIR)
+	install -m 0755 igal2 $(DESTDIR)$(BINDIR)
+	ln -si $(BINDIR)/igal2 $(DESTDIR)$(BINDIR)/igal
+	install -m 0755 utilities/igal2.sh $(DESTDIR)$(BINDIR)
+	install -d $(DESTDIR)$(MANDIR)
+	install -m 0644 igal2.1 $(DESTDIR)$(MANDIR)
+	install -d $(DESTDIR)$(IGALDIR)
+	install -m 0644 README ChangeLog COPYING indextemplate2.html slidetemplate2.html tile.png igal2.css directoryline2.html $(DESTDIR)$(IGALDIR)
